<!DOCTYPE html>
<html>
  <head>
    <title>acebook</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/component.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
  </head>
  <body>
    <div class="acebook container" data-bind="foreach: replist">
      <div class="row">
        <div class="card col-md-6 col-md-offset-2">
          <div class="image-frame">
            <img data-bind="attr: {src: img, title: name}, visible: imgLoaded">
            <span class="material-icons md-147" data-bind="click: $parent.selectImg, attr: {id: $index}, visible: img() === ''">account_box</span>
            <input type="file" style="display: none" data-bind="event: {change: $parent.loadImg}, attr: {id: 'file' + $index()}">
          </div>
          <h4 class="agent-name name" data-bind="text: name, visible: !editName(), click: $parent.editName"></h4>
          <input class="name-edit" data-bind="visible: editName(), textInput: name, event: {blur: $parent.editName}, hasFocus: editName()" type="text">
          <p class="quote" data-bind="text: quote, click: $parent.editQuote, visible: !editQuote()"></p>
          <input class="quote-edit" data-bind="visible: editQuote(), textInput: quote, event: {blur: $parent.editQuote}, hasFocus: editQuote()" type="text" autofocus>
          <div class="callout">
            <img src="img/thumb-small.png" data-bind="click: $parent.likeClick">
            <p class="manager">
              <span class="mgr-name name" data-bind="text: mgr, click: $parent.editMgr, visible: !editMgr()"></span>
              <input class="mgr-edit" data-bind="visible: editMgr(), textInput: mgr, event: {blur: $parent.editMgr}, hasFocus: editMgr()" type="text">
              and <span class="others name"><span data-bind="text: likes"></span> others</span> like this.
            </p>
          </div>
          <div class="callout">
            <img src="img/AT&T_globe_small.png">
            <p class="applause" data-bind="text: pat, visible: !editPat(), click: $parent.editPat"></p>
            <textarea class="pat-edit" data-bind="visible: editPat(), textInput: pat, event: {blur: $parent.editPat}, hasFocus: editPat()"></textarea>
          </div>
        </div>
        <div class="col-md-3">
          <button type="button" class="btn btn-danger" data-bind="click: $parent.removeKudo, visible: $index() !== 0"><i class="material-icons">remove</i></button>
          <button type="button" class="btn btn-primary" data-bind="click: $parent.newKudo, visible: $index() === $parent.replist().length - 1"><i class="material-icons">add</i></button>
        </div>
      </div>
    </div>
    <!-- ko if: currKudo() -->
    <div class="editCanvas" data-bind="with: currKudo">
      <div data-bind="visible: editImg()">
        <div class="overlay">
          <div class="overlay-inner"></div>
        </div>
        <img id="canvas">
        <button class="material-icons md-40 btn btn-primary canvas-done">done</button>
      </div>
    </div>
    <!-- /ko -->
    <script src="js/jquery.min.js"></script>
    <script src="js/knockout.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>